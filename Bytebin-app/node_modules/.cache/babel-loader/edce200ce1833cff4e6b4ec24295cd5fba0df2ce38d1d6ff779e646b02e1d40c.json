{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"Navigation\",\n  props: {\n    activeIndex: {\n      type: String,\n      default() {\n        return '1';\n      }\n    }\n  },\n  data() {\n    return {\n      keyword: '',\n      isLogin: false,\n      currentIndex: '1',\n      avatar: '',\n      userId: ''\n    };\n  },\n  methods: {\n    signOut() {\n      localStorage.removeItem(\"satoken\");\n      this.$cookie.delete(\"id\");\n      this.$cookie.delete(\"username\");\n      this.$cookie.delete(\"nickname\");\n      this.$cookie.delete(\"avatar\");\n      this.$router.push(\"/login\");\n    },\n    changePage(index) {\n      console.log(\"改变页面\", index);\n      this.currentIndex = index;\n      if (index == '1') {\n        this.$router.push(\"/home\");\n      }\n      if (index == '2') {\n        this.$router.push('/trend');\n      }\n      if (index == '3') {\n        this.$router.push('/write');\n      }\n    },\n    toProfile(id) {\n      this.$router.push(\"/profile?id=\" + id);\n    },\n    search() {\n      if (this.keyword.length > 0) {\n        this.$router.push(\"/search?keyword=\" + encodeURIComponent(this.keyword));\n        this.$forceUpdate();\n      }\n    }\n  },\n  created() {\n    this.avatar = this.$cookie.get(\"avatar\");\n    this.userId = this.$cookie.get(\"id\");\n  },\n  beforeMount() {\n    let that = this;\n    that.isLogin = localStorage.getItem(\"satoken\");\n  }\n};","map":{"version":3,"names":["name","props","activeIndex","type","String","default","data","keyword","isLogin","currentIndex","avatar","userId","methods","signOut","localStorage","removeItem","$cookie","delete","$router","push","changePage","index","console","log","toProfile","id","search","length","encodeURIComponent","$forceUpdate","created","get","beforeMount","that","getItem"],"sources":["src/components/Navigation.vue"],"sourcesContent":["<template>\r\n      <el-menu :default-active=\"activeIndex\" active-text-color=\"#449cfc\" class=\"el-menu-demo\"\r\n               mode=\"horizontal\" style=\"border-bottom-left-radius: 14px;border-bottom-right-radius: 14px;height: 60px;\"\r\n      >\r\n        <el-menu-item><img class=\"menu-img\" src=\"../static/images/logo.svg\"></el-menu-item>\r\n        <el-menu-item style=\"font-size: 26px;color: #449cfc\">Bloggy</el-menu-item>\r\n        <el-menu-item index=\"1\" style=\"margin-left: 15%;\" @click=\"changePage('1')\"> 主页</el-menu-item>\r\n        <el-menu-item index=\"2\" @click=\"changePage('2')\">趋势</el-menu-item>\r\n        <el-menu-item style=\"margin-left: 6%\">\r\n          <el-input v-model=\"keyword\" class=\"input-with-select\" placeholder=\"输入以搜索\">\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"search\"></el-button>\r\n          </el-input>\r\n\r\n        </el-menu-item>\r\n        <el-menu-item index=\"3\" @click=\"changePage('3')\">\r\n          <i class=\"el-icon-edit\"></i>\r\n        </el-menu-item>\r\n        <el-menu-item>\r\n          <el-badge :value=\"1\">\r\n            <el-button icon=\"el-icon-message\" size=\"small\"></el-button>\r\n          </el-badge>\r\n        </el-menu-item>\r\n        <el-menu-item v-if=\"!isLogin\" style=\"color: #449cfc;float: right\">\r\n          <router-link to=\"/login\">登录</router-link>\r\n        </el-menu-item>\r\n        <el-submenu v-if=\"isLogin\" index=\"4\" style=\"float: right\">\r\n          <template slot=\"title\">\r\n            <el-avatar :size=\"'medium'\" :src=\"avatar\"></el-avatar>\r\n          </template>\r\n          <el-menu-item-group>\r\n            <el-menu-item index=\"4-1\" @click=\"toProfile(userId)\">\r\n              <i class=\"el-icon-user-solid\"/>\r\n              <span>个人中心</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"4-2\" @click=\"signOut\">\r\n              <i class=\"el-icon-switch-button\"/>\r\n              <span>退出</span>\r\n            </el-menu-item>\r\n          </el-menu-item-group>\r\n        </el-submenu>\r\n      </el-menu>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Navigation\",\r\n  props: {\r\n    activeIndex: {\r\n      type: String,\r\n      default() {\r\n        return '1'\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      keyword: '',\r\n      isLogin: false,\r\n      currentIndex: '1',\r\n      avatar: '',\r\n      userId: '',\r\n    }\r\n  },\r\n  methods: {\r\n    signOut() {\r\n      localStorage.removeItem(\"satoken\")\r\n      this.$cookie.delete(\"id\")\r\n      this.$cookie.delete(\"username\")\r\n      this.$cookie.delete(\"nickname\")\r\n      this.$cookie.delete(\"avatar\")\r\n      this.$router.push(\"/login\")\r\n    },\r\n    changePage(index) {\r\n      console.log(\"改变页面\", index)\r\n      this.currentIndex = index\r\n      if (index == '1') {\r\n        this.$router.push(\"/home\")\r\n      }\r\n      if (index == '2') {\r\n        this.$router.push('/trend')\r\n      }\r\n      if (index == '3') {\r\n        this.$router.push('/write')\r\n      }\r\n    },\r\n    toProfile(id) {\r\n      this.$router.push(\"/profile?id=\" + id)\r\n    },\r\n    search() {\r\n      if (this.keyword.length > 0) {\r\n        this.$router.push(\"/search?keyword=\" + encodeURIComponent(this.keyword))\r\n        this.$forceUpdate()\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.avatar = this.$cookie.get(\"avatar\")\r\n    this.userId = this.$cookie.get(\"id\");\r\n  }\r\n  ,\r\n  beforeMount() {\r\n    let that = this;\r\n    that.isLogin = localStorage.getItem(\"satoken\")\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.menu-img {\r\n  height: 100%;\r\n}\r\n</style>\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;EACAA,IAAA;EACAC,KAAA;IACAC,WAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,QAAA;QACA;MACA;IACA;EACA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,OAAA;MACAC,YAAA;MACAC,MAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,QAAA;MACAC,YAAA,CAAAC,UAAA;MACA,KAAAC,OAAA,CAAAC,MAAA;MACA,KAAAD,OAAA,CAAAC,MAAA;MACA,KAAAD,OAAA,CAAAC,MAAA;MACA,KAAAD,OAAA,CAAAC,MAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACAC,WAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,SAAAF,KAAA;MACA,KAAAZ,YAAA,GAAAY,KAAA;MACA,IAAAA,KAAA;QACA,KAAAH,OAAA,CAAAC,IAAA;MACA;MACA,IAAAE,KAAA;QACA,KAAAH,OAAA,CAAAC,IAAA;MACA;MACA,IAAAE,KAAA;QACA,KAAAH,OAAA,CAAAC,IAAA;MACA;IACA;IACAK,UAAAC,EAAA;MACA,KAAAP,OAAA,CAAAC,IAAA,kBAAAM,EAAA;IACA;IACAC,OAAA;MACA,SAAAnB,OAAA,CAAAoB,MAAA;QACA,KAAAT,OAAA,CAAAC,IAAA,sBAAAS,kBAAA,MAAArB,OAAA;QACA,KAAAsB,YAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAApB,MAAA,QAAAM,OAAA,CAAAe,GAAA;IACA,KAAApB,MAAA,QAAAK,OAAA,CAAAe,GAAA;EACA;EAEAC,YAAA;IACA,IAAAC,IAAA;IACAA,IAAA,CAAAzB,OAAA,GAAAM,YAAA,CAAAoB,OAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}