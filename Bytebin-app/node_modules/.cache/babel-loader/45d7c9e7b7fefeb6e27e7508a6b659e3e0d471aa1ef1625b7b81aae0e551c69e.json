{"ast":null,"code":"import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Login from \"@/views/Login\";\nimport Register from \"@/views/Register\";\nimport Index from \"@/views/Index\";\nimport Trend from \"@/views/Trend\";\nimport Write from \"@/views/Write\";\nimport ArticleDetail from \"@/views/ArticleDetail\";\nimport Profile from \"@/views/Profile\";\nimport SearchDetail from \"@/views/SearchDetail\";\nimport BackstageIndex from \"@/admin/views/BackstageIndex.vue\";\nimport SortDetail from \"@/views/SortDetail.vue\";\nimport DashBoard from \"@/admin/views/DashBoard.vue\";\nimport ArticleManage from \"@/admin/views/ArticleManage.vue\";\nimport UserManage from \"@/admin/views/UserManage.vue\";\nimport AdvertisingManage from \"@/admin/views/AdvertisingManage.vue\";\nimport NotFoundPage from \"@/views/NotFoundPage.vue\";\nimport VueCookies from \"vue-cookie\";\nimport Home from \"@/views/Home.vue\";\n\n// 解决ElementUI导航栏中的vue-router在3.0版本以上重复点菜单报错问题\nconst originalPush = VueRouter.prototype.push;\nVueRouter.prototype.push = function push(location) {\n  return originalPush.call(this, location).catch(err => err);\n};\nVue.use(VueCookies);\nVue.use(VueRouter);\nconst routes = [{\n  path: '/login',\n  name: 'login',\n  component: Login\n}, {\n  path: '/register',\n  name: 'register',\n  component: Register\n}, {\n  path: '/',\n  name: 'index',\n  component: Index,\n  children: [{\n    path: '/home',\n    component: Home\n  }, {\n    path: '/trend',\n    name: 'trend',\n    component: Trend\n  }, {\n    path: '/write',\n    name: 'write',\n    component: Write\n  }, {\n    path: '/detail',\n    name: 'detail',\n    component: ArticleDetail\n  }, {\n    path: '/profile',\n    name: 'profile',\n    component: Profile\n  }, {\n    path: '/search',\n    name: 'search',\n    component: SearchDetail\n  }, {\n    path: '/detail/sort',\n    name: 'detail/sort',\n    component: SortDetail\n  }]\n}, {\n  path: '/admin',\n  component: BackstageIndex,\n  meta: {\n    requiresRole: true,\n    role: 'admin'\n  },\n  children: [{\n    path: 'article',\n    component: ArticleManage\n  }, {\n    path: 'user',\n    component: UserManage\n  }, {\n    path: 'ad',\n    component: AdvertisingManage\n  }, {\n    path: 'board',\n    component: DashBoard\n  }]\n}, {\n  path: '/:pathMatch(.*)*',\n  name: 'NotFound',\n  component: NotFoundPage\n}];\nconst router = new VueRouter({\n  mode: 'history',\n  routes: routes\n});\nrouter.beforeEach((to, from, next) => {\n  const role = VueCookies.get(\"role\");\n  if (to.matched.length === 0) {\n    next({\n      name: 'NotFound'\n    });\n  } else {\n    if (to.meta.requiresRole) {\n      if (to.meta.role === role) {\n        next();\n      } else {\n        next({\n          path: '/login'\n        });\n      }\n    } else {\n      next();\n    }\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","Login","Register","Index","Trend","Write","ArticleDetail","Profile","SearchDetail","BackstageIndex","SortDetail","DashBoard","ArticleManage","UserManage","AdvertisingManage","NotFoundPage","VueCookies","Home","originalPush","prototype","push","location","call","catch","err","use","routes","path","name","component","children","meta","requiresRole","role","router","mode","beforeEach","to","from","next","get","matched","length"],"sources":["D:/Software Engineering/Bytebin-app/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Login from \"@/views/Login\";\r\nimport Register from \"@/views/Register\";\r\nimport Index from \"@/views/Index\"\r\nimport Trend from \"@/views/Trend\";\r\nimport Write from \"@/views/Write\";\r\nimport ArticleDetail from \"@/views/ArticleDetail\";\r\nimport Profile from \"@/views/Profile\";\r\nimport SearchDetail from \"@/views/SearchDetail\";\r\nimport BackstageIndex from \"@/admin/views/BackstageIndex.vue\";\r\nimport SortDetail from \"@/views/SortDetail.vue\";\r\nimport DashBoard from \"@/admin/views/DashBoard.vue\";\r\nimport ArticleManage from \"@/admin/views/ArticleManage.vue\";\r\nimport UserManage from \"@/admin/views/UserManage.vue\";\r\nimport AdvertisingManage from \"@/admin/views/AdvertisingManage.vue\";\r\nimport NotFoundPage from \"@/views/NotFoundPage.vue\";\r\nimport VueCookies from \"vue-cookie\";\r\nimport Home from \"@/views/Home.vue\";\r\n\r\n\r\n// 解决ElementUI导航栏中的vue-router在3.0版本以上重复点菜单报错问题\r\nconst originalPush = VueRouter.prototype.push\r\nVueRouter.prototype.push = function push(location) {\r\n    return originalPush.call(this, location).catch(err => err)\r\n}\r\nVue.use(VueCookies)\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n    {\r\n    path: '/login',\r\n    name: 'login',\r\n    component: Login\r\n    },\r\n    {\r\n        path: '/register',\r\n        name: 'register',\r\n        component: Register\r\n    },\r\n    {\r\n        path: '/',\r\n        name: 'index',\r\n        component: Index,\r\n        children: [\r\n            {\r\n                path: '/home',\r\n                component: Home\r\n            },\r\n            {\r\n                path: '/trend',\r\n                name: 'trend',\r\n                component: Trend\r\n            },\r\n            {\r\n                path: '/write',\r\n                name: 'write',\r\n                component: Write\r\n            },\r\n            {\r\n                path: '/detail',\r\n                name: 'detail',\r\n                component: ArticleDetail\r\n            },\r\n            {\r\n                path: '/profile',\r\n                name: 'profile',\r\n                component: Profile\r\n            },\r\n            {\r\n                path: '/search',\r\n                name: 'search',\r\n                component: SearchDetail\r\n            },\r\n            {\r\n                path: '/detail/sort',\r\n                name: 'detail/sort',\r\n                component: SortDetail\r\n            }\r\n        ]\r\n    },\r\n\r\n\r\n    {\r\n        path: '/admin',\r\n        component: BackstageIndex,\r\n        meta:{requiresRole: true, role: 'admin'},\r\n        children: [\r\n            {\r\n                path: 'article',\r\n                component: ArticleManage\r\n            },\r\n            {\r\n                path: 'user',\r\n                component: UserManage\r\n            },\r\n            {\r\n                path: 'ad',\r\n                component: AdvertisingManage\r\n            },\r\n            {\r\n                path: 'board',\r\n                component: DashBoard\r\n            }\r\n\r\n        ]\r\n    },\r\n    {\r\n        path: '/:pathMatch(.*)*',\r\n        name: 'NotFound',\r\n        component: NotFoundPage\r\n    }\r\n]\r\n\r\nconst router = new VueRouter({\r\n    mode: 'history',\r\n    routes: routes\r\n})\r\nrouter.beforeEach((to, from, next) => {\r\n    const role=VueCookies.get(\"role\")\r\n    if (to.matched.length === 0){\r\n        next({name: 'NotFound'})\r\n    }\r\n    else {\r\n        if (to.meta.requiresRole){\r\n            if (to.meta.role===role){\r\n                next();\r\n            }else {\r\n                next({path:'/login'})\r\n            }\r\n        }else {\r\n            next();\r\n        }\r\n    }\r\n\r\n})\r\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}